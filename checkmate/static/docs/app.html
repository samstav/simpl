<!DOCTYPE html>  <html> <head>   <title>app.yaml</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               app.yaml             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p><strong>Checkmate</strong> is a configuration management REST service written in python.
The source can be found <a href="http://github.com/ziadsawalha/checkmate">here</a></p>

<p>This sample configuration file can be used to deploy a wordpress application
to the cloud. It also currently serves as the main reference for the
Checkmate configuration syntax and schema.</p>

<p>Notes about this file:</p>

<h3>Field names</h3>

<p>YAML supports key values with or without quotation marks around them. In order
to differentiate between values that are strictly defined in the schema for the
YAML and fields that are user-determined, I've wrapped all user-determined keys
in quotes. You are free to rename any of these values.
In addition, some values are not part of the schema, but are returned by providers
(ex. mysql is an interface understood by the database provider). These values are
not defined by the YAML schema, but also are not user-changeable. I've wrapped
those with single quotes.
For example:
 requires:
   "db": 'mysql'
   "server":
     relation: host
     interface: 'linux'
requires, relation, host, and interface are names that checkmate defines and looks for
db and server are names you are free to change to suit your needs
mysql and linux are names specified by the underlying providers.</p>

<p>Note: YAML does not escape stings in single quotes. There may be some field values with
characters that need escaping. Those might be wrapped in single quotes, but they are not
defined strictly. They are exceptions to this rule.</p>

<h3>Variables</h3>

<p>${VARIABLE} entries are designed to be replaced by with your local environment variables
before posting it to checkmate. This command does that:</p>

<pre><code>awk '{while(match($0,"[$][\\{][^\\}]*\\}")) {var=substr($0,RSTART+2,RLENGTH -3);gsub("[$][{]"var"[}]",ENVIRON[var])}}1' &lt; app.yaml
</code></pre>

<p>To perform the above transform and actually send the output to checkmate:</p>

<pre><code>CHECKMATE_CLIENT_TENANT=$(curl -H "X-Auth-User: ${CHECKMATE_CLIENT_USERNAME}" -H "X-Auth-Key: ${CHECKMATE_CLIENT_APIKEY}" -I https://identity.api.rackspacecloud.com/v1.0 -v 2&gt; /dev/null | grep "X-Server-Management-Url" | grep -P -o $'(?!.*/).+$'| tr -d '\r') &amp;&amp; CHECKMATE_CLIENT_TOKEN=$(curl -H "X-Auth-User: ${CHECKMATE_CLIENT_USERNAME}" -H "X-Auth-Key: ${CHECKMATE_CLIENT_APIKEY}" -I https://identity.api.rackspacecloud.com/v1.0 -v 2&gt; /dev/null | grep "X-Auth-Token:" | awk '/^X-Auth-Token:/ { print $2 }') &amp;&amp; awk '{while(match($0,"[$][\\{][^\\}]*\\}")) {var=substr($0,RSTART+2,RLENGTH -3);gsub("[$][{]"var"[}]",ENVIRON[var])}}1' &lt; examples/app.yaml | curl -H "X-Auth-Token: ${CHECKMATE_CLIENT_TOKEN}" -H 'content-type: application/x-yaml' http://localhost:8080/${CHECKMATE_CLIENT_TENANT}/deployments/simulate -v --data-binary @-
</code></pre>

<p>Note: the deployments/simulate URL is used for testing and does not persist anything on the server. The deployment resides in memory at the deployments/simulate
      URL (i.e. simulate is a fake ID)</p>

<h3>Deployment</h3>

<p>This file defines a wordpress deployment, but also includes all the other items
needed for that deployment, such as environments, blueprints, and components under the 'includes' key. This
allows for the file to be self-contained and can be posted to a blank checkmate
server (no data needs to be set up beforehand). This file is used as reference documentation
on the YAML syntax as well. It therefore includes a few extra, unnecessary items
(like the extra environments under 'includes:' for documentation's sake. They are
not used by the deployment.
When submitted to the server the references in this file (see use of &amp; and * in YAML)
are resolved and the server stores the final, resolved object. The references and includes
entries may be discarded.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Components</h3>

<p>Components define the basic building blocks for checkmate. They are applications or resources
used to build systems and applications.</p>

<p>Components have interfaces. Here's an example list of component types and interfaces:
- compute:
    linux (or debian or ubuntu if specificity is needed)
    windows
- database:
    mysql
    mssql
- load-balancer:
    http
    https
- application:
    wordpress
    drupal
- endpoint: protocols such as http, https, ip (ipv4, ipv6 if specific), ldap
    url: an internet resource. url defines protocol://host:port/path (and multiple urls can share the protocol://host:port/)
       the protocol may be provided as the interface (ex. http)
    http: a url constrained to http/https only
Note: checkmate right now constrains the names of interfaces to a supported list in the
checkmate.common.schema file. The component names are flexible and defined by the provider, but there is a need to
keep them consistent (for example, wordpress should be called wordpress whether it is provided by chef or puppet).</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>SAMPLE WORDPRESS DEPLOYMENT</p>

<h3>Various includes</h3>

<p>This is an allowed item on the root so that objects can be placed here and referenced in from the deployment.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="l-Scalar-Plain">includes</span><span class="p-Indicator">:</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Definitions of components/services used in this file
THOUGHTS: these should come from providers. But there should be generic, well-known names like 'wordpress' that are used in blueprints.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">components</span><span class="p-Indicator">:</span> <span class="c1">#Items under here are referenced by the blueprints below.</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>the name of the component and an optional anchor (any unique name preceded by &amp;) which
can be used to reference it from elsewhere in the file
Checkmate manages components using the following set of attributes:
- is: this identifies what type of component this is. Examples are: compute, database, application
- requires: this describes what interfaces this component needs and what the relationship to the components providing these interfaces is
- provides: what interfaces this component provides
for requires and provides, the default syntax is name:interface. In this case, the relationship is assumed to be a reference relationship
for other types of relationships, the syntax is broken out: name: {interface: interface<em>name, relation: relation</em>type}
Component relationships can be:
- host: A 'hosting' relationship means the hosted component exists 'in' the host and requires it before creation
        a requirement named 'host' is assumed to be a hosting relationship (ex. host: linux)
- reference: another component that is needed for this one to operate (but not for creation)
- is (see above): 'is' is a type of relationship also.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="p-Indicator">-</span> <span class="nl">&amp;lsyncd</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&#39;lsyncd&#39;</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">slaves</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">String Array</span>
    <span class="l-Scalar-Plain">requires</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">linux</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;mysql-client</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&#39;mysql::client&#39;</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">String</span>
      <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">String</span>
      <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">String</span>
      <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">String</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;wordpress1</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&#39;wordpress&#39;</span>
    <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.8.8</span>  <span class="c1"># revisions track multiple versions of a component definition. This comes from Chef cookbook in this case</span>
    <span class="l-Scalar-Plain">summary</span><span class="p-Indicator">:</span> <span class="s">&quot;A</span><span class="nv"> </span><span class="s">pretty</span><span class="nv"> </span><span class="s">popular</span><span class="nv"> </span><span class="s">blog</span><span class="nv"> </span><span class="s">engine&quot;</span> <span class="c1"># a short description of the component</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="s">&#39;application&#39;</span> <span class="c1"># An &#39;is&#39; relationship describing this component as a type of &#39;application&#39; (or application)</span>
    <span class="l-Scalar-Plain">requires</span><span class="p-Indicator">:</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Here is one in the name:interface syntax</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="s">&#39;mysql&#39;</span> <span class="c1">#relation: reference (implied)</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Here is one in the name:mapping extended syntax (expanded because we have two non-default values)</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">compute</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">relation</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">host</span>
        <span class="l-Scalar-Plain">interface</span><span class="p-Indicator">:</span> <span class="s">&#39;linux&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>PROTOTYPING: still considering if 'dependency' is needed
'dependency' is a special type of requirement pointing to other components
that this one depends on. It is mainly informative and does not define the
relationship between them. It can be used  y checkmate to flow information
to these components in a generic fashion</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="l-Scalar-Plain">dependencies</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="nv">*apache2</span>
    <span class="p-Indicator">-</span> <span class="nv">*mysql-client</span>
    <span class="p-Indicator">-</span> <span class="nv">*lsyncd</span>
    <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;application&#39;</span><span class="p-Indicator">:</span> <span class="s">&#39;http&#39;</span>  <span class="c1"># http means a web resource, could be on a shared endpoint</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">checksum</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">7342627f4a3dca44886c5aca6834cc88671dbd3aa2760182d2fcb9a330807</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Checksum of the tarball for the version specified.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress tarball checksum</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/checksum</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">database/database</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpressdb</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress will use this MySQL database to store its data.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress MySQL database</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/db/database</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">database/host</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">MySQL database server resolvable name or TCP/IP address.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress MySQL Database Host</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/db/host</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">database/password</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">randomly generated</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Password for the WordPress MySQL user.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress MySQL password</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/db/password</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">database/prefix</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wp_</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The table prefix to use for the tables created for wordpress.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress database table prefix</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/db/prefix</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">database/username</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpressuser</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress will connect to MySQL using this user.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress MySQL user</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/db/username</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">directory</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/var/WWW</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Location to place wordpress files.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress installation directory</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/dir</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">keys/authentication</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">=generate_uuid()</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress auth key.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress auth key</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/keys/auth</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">keys/logged_in</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">randomly generated</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress logged-in key.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress logged-in key</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/keys/logged_in</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">keys/nonce</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">=generate_uuid()</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress nonce key.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress nonce key</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/keys/nonce</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">keys/secure_authentication</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">=generate_uuid()</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress secure auth key.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress secure auth key</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/keys/secure_auth</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">URL to use after the main domain name.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress URL path</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/path</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">server_aliases</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">FQDN</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress Server Aliases</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress Server Aliases</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/server_aliases</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
      <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">3.0.4</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Version of WordPress to download from the WordPress site.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">WordPress download version</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">optional</span>
        <span class="l-Scalar-Plain">source_field_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress/version</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;mysql</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span>
    <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
    <span class="l-Scalar-Plain">summary</span><span class="p-Indicator">:</span> <span class="s">&quot;A</span><span class="nv"> </span><span class="s">pretty</span><span class="nv"> </span><span class="s">popular</span><span class="nv"> </span><span class="s">database&quot;</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="s">&#39;database&#39;</span>
    <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;database&#39;</span><span class="p-Indicator">:</span> <span class="s">&#39;mysql&#39;</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">String</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">=generate_password()</span>  <span class="c1"># IMPLEMENTED, but open to more elegant approach...</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">the password for the database</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>PROTOTYPING:</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="l-Scalar-Plain">outputs</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;database_username&#39;</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;database_name&#39;</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;database_password&#39;</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;host&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">hostname</span>  <span class="c1"># copy/alias/map that return to this name</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;mysql-instance</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql-master-role</span>
    <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
    <span class="l-Scalar-Plain">summary</span><span class="p-Indicator">:</span> <span class="s">&quot;mysql</span><span class="nv"> </span><span class="s">running</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">compute</span><span class="nv"> </span><span class="s">instance&quot;</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="s">&#39;database&#39;</span>
    <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;database&#39;</span><span class="p-Indicator">:</span> <span class="s">&#39;mysql&#39;</span>
    <span class="l-Scalar-Plain">requires</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&quot;compute&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">relation</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">host</span>
        <span class="l-Scalar-Plain">interface</span><span class="p-Indicator">:</span> <span class="s">&#39;linux&#39;</span>
    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">String</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">=generate_password()</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">the password for the database</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;loadbalancer</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">loadbalancer</span>
    <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
    <span class="l-Scalar-Plain">summary</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Load-balancer as a Service instance</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="s">&#39;load-balancer&#39;</span>
    <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;load-balancer&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;load-balancer&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">url</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;load-balancer-image</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">nginx</span>
    <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
    <span class="l-Scalar-Plain">summary</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Load-balancer software</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">load-balancer</span>
    <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;load-balancer&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;load-balancer&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">url</span>
    <span class="l-Scalar-Plain">requires</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;compute&#39;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">relation</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">host</span>

        <span class="l-Scalar-Plain">interface</span><span class="p-Indicator">:</span> <span class="s">&#39;linux&#39;</span> <span class="c1">#PROPOSAL: os or distro as an interface (it has a protocol to interact with it)</span>
        <span class="l-Scalar-Plain">constraint</span><span class="p-Indicator">:</span> <span class="c1">#PROTOTYPING</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;os&#39;</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&#39;debian&#39;</span><span class="p-Indicator">,</span> <span class="s">&#39;redhat&#39;</span><span class="p-Indicator">]</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;wordpress-web-master-role2</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&#39;wordpress-web-master-role&#39;</span>
    <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.8.8</span>  <span class="c1"># revisions track multiple versions of a component definition. This comes from Chef cookbook in this case</span>
    <span class="l-Scalar-Plain">summary</span><span class="p-Indicator">:</span> <span class="s">&quot;Managed</span><span class="nv"> </span><span class="s">Cloud</span><span class="nv"> </span><span class="s">Install</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">Wordpress</span><span class="nv"> </span><span class="s">Master</span><span class="nv"> </span><span class="s">Node&quot;</span> <span class="c1"># a short description of the component</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="s">&#39;application&#39;</span> <span class="c1"># An &#39;is&#39; relationship describing this component as a type of &#39;application&#39; (or application)</span>
    <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&#39;application&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
    <span class="l-Scalar-Plain">requires</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="s">&#39;linux&#39;</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;wordpress-web-role2</span>
    <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="s">&#39;wordpress-web&#39;</span>
    <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0.8.8</span>  <span class="c1"># revisions track multiple versions of a component definition. This comes from Chef cookbook in this case</span>
    <span class="l-Scalar-Plain">summary</span><span class="p-Indicator">:</span> <span class="s">&quot;Managed</span><span class="nv"> </span><span class="s">Cloud</span><span class="nv"> </span><span class="s">Install</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">Wordpress&quot;</span> <span class="c1"># a short description of the component</span>
    <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="s">&#39;application&#39;</span> <span class="c1"># An &#39;is&#39; relationship describing this component as a type of &#39;application&#39; (or application)</span>
    <span class="l-Scalar-Plain">dependencies</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="nv">*wordpress-web-master-role</span>
    <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">application</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
    <span class="l-Scalar-Plain">requires</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="s">&#39;linux&#39;</span>
  <span class="p-Indicator">-</span> <span class="nl">&amp;external-reference</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <ul>
<li>&lt;&lt;: *nosql  # Just to test an unknown reference. Should translate to a local URI.</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <h3>Blueprints</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>An architecture template
This would be where we define the architecture of an application which would include
all the components, tiers, connections, and scaling rules for that application.
Blueprints contain best practices and 'constrain' the available options in an environment to
those that are architecturally sound.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">blueprint</span><span class="p-Indicator">:</span> <span class="nl">&amp;wp-multi</span>
    <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Scalable Wordpress (Managed Cloud Config)</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">uses MC config recipes which support blah...., multiple domains, ....</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Services are similar to tiers. The names are arbitrary keys to be chosen by the blueprint author.
components: the type of component used in the service.
relations: connections to other services. The syntax can be short (service:interface) or long (name:{map})
relations are a hint or predefinition of how to satisfy a requirement (ex. which service to satisfy it from)</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
      <span class="s">&quot;lb&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">component</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">load-balancer</span>
          <span class="l-Scalar-Plain">interface</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
        <span class="l-Scalar-Plain">relations</span><span class="p-Indicator">:</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Short syntax: service_name:interface (look at web tier for long form example)</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="s">&quot;web&quot;</span><span class="p-Indicator">:</span> <span class="s">&#39;http&#39;</span>
          <span class="s">&quot;master&quot;</span><span class="p-Indicator">:</span> <span class="s">&#39;http&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>PROTOTYPING</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="l-Scalar-Plain">exposed</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
        <span class="l-Scalar-Plain">open-ports</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">80/tcp</span><span class="p-Indicator">]</span>
      <span class="s">&quot;master&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">component</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress</span>
          <span class="l-Scalar-Plain">role</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">master</span>
        <span class="l-Scalar-Plain">relations</span><span class="p-Indicator">:</span>
          <span class="s">&quot;backend&quot;</span><span class="p-Indicator">:</span> <span class="s">&#39;mysql&#39;</span>
        <span class="l-Scalar-Plain">constraints</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">count</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
      <span class="s">&quot;web&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">component</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wordpress</span>
          <span class="l-Scalar-Plain">role</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
          <span class="p-Indicator">-</span> <span class="s">&#39;wordpress/version&#39;</span><span class="p-Indicator">:</span> <span class="s">&#39;3.0.4&#39;</span>  <span class="c1"># fix blueprint to a predictable version</span>
        <span class="l-Scalar-Plain">relations</span><span class="p-Indicator">:</span>
          <span class="s">&quot;master&quot;</span><span class="p-Indicator">:</span> <span class="s">&#39;http&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Long format example. For when we need to identify more than service &amp; interface</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="s">&quot;db&quot;</span><span class="p-Indicator">:</span> <span class="c1"># Long syntax includes a name for the relation, since we need to manage the relationships later (drain, stop, start, check, etc...)</span>
            <span class="l-Scalar-Plain">interface</span><span class="p-Indicator">:</span> <span class="s">&#39;mysql&#39;</span>
            <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="s">&quot;backend&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>TO TEST: for multiple configs
take web1, give it lsyncd-master config
all others, give them lsyncd-slave</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="s">&quot;backend&quot;</span><span class="p-Indicator">:</span> <span class="c1">#TODO: remove hard coding against this name. Think about what these names mean. These are basically tiers...</span>
        <span class="l-Scalar-Plain">component</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">database</span>
          <span class="l-Scalar-Plain">interface</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>A blueprint author (the architect) provides the list of parameters for a blueprint in the
blueprint options field.
Blueprints provide constraints (as architectural specs do) and they therefore override and filter
the underlying provider values. Options can exist in blueprints and in provider catalogs. There may be overlap.
For example, a provider may offer Ubuntu, CentOS and RHEL servers, but the blueprint might constrain the list
of allowed options to RHEL.
The API will only validate that a deployment matches blueprint constraints once the deployment is submitted.
The UI could filter available options to what a blueprint allows and perform up-front validation before a deployment is attempted</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
      <span class="s">&quot;prefix&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">wp</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Prefix</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="s">&quot;The</span><span class="nv"> </span><span class="s">application</span><span class="nv"> </span><span class="s">ID</span><span class="nv"> </span><span class="s">(and</span><span class="nv"> </span><span class="s">wordpress</span><span class="nv"> </span><span class="s">table</span><span class="nv"> </span><span class="s">prefix).&quot;</span>
        <span class="l-Scalar-Plain">help</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">Note that this also the user name, database name, and also identifies this</span>
          <span class="no">wordpress install from other ones you might add later to the same deployment.</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;database/prefix&quot;</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;user/name&quot;</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;apache/user/name&quot;</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;lsyncd/user/name&quot;</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">backend</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">database</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;database/name&quot;</span>  <span class="c1"># would be nice if the cookbook called this database/name</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">backend</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">database</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;database/username&quot;</span>
      <span class="s">&quot;region&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Region</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Choice is  always an array. It can be an array of values or of objects with name &amp; value attributes</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="l-Scalar-Plain">choice</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">dallas</span><span class="p-Indicator">,</span> <span class="nv">chicago</span><span class="p-Indicator">]</span>
        <span class="l-Scalar-Plain">required</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
      <span class="s">&quot;ssl&quot;</span><span class="p-Indicator">:</span> <span class="nl">&amp;ssl</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SSL Enabled</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">boolean</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Use SSL to encrypt web traffic.</span>
        <span class="l-Scalar-Plain">help</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
          <span class="no">If this option is selected, SSL keys need to be supplied as well. This option is</span>
          <span class="no">also currently mutually exclusive with the Varnish Caching option.</span>
      <span class="s">&quot;ssl_certificate&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SSL Certificate</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span> <span class="c1">#certificate-PEM</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SSL certificate in PEM format. Make sure to include the BEGIN and END certificate lines.</span>
        <span class="l-Scalar-Plain">sample</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
            <span class="no">-----BEGIN CERTIFICATE-----</span>
            <span class="no">Encoded Certificate</span>
            <span class="no">-----END CERTIFICATE-----</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span> <span class="p-Indicator">[{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">web</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">application</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;apache/ssl_certificate&quot;</span><span class="p-Indicator">}]</span>
      <span class="s">&quot;ssl_private_key&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SSL Certificate Private Key</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span> <span class="c1">#certificate-PEM</span>
        <span class="l-Scalar-Plain">sample</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
            <span class="no">-----BEGIN PRIVATE KEY-----</span>
            <span class="no">Encoded key</span>
            <span class="no">-----END PRIVATE KEY-----</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span> <span class="p-Indicator">[{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">web</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">application</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;apache/ssl_private_key&quot;</span><span class="p-Indicator">}]</span>
      <span class="s">&quot;domain&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
        <span class="l-Scalar-Plain">regex</span><span class="p-Indicator">:</span> <span class="s">&#39;^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$&#39;</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Domain</span>
        <span class="l-Scalar-Plain">sample</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">example.com</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="s">&quot;The</span><span class="nv"> </span><span class="s">domain</span><span class="nv"> </span><span class="s">you</span><span class="nv"> </span><span class="s">wish</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">host</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">blog</span><span class="nv"> </span><span class="s">on.</span><span class="nv"> </span><span class="s">(ex:</span><span class="nv"> </span><span class="s">example.com)&quot;</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;apache/domain_name&quot;</span>
      <span class="s">&quot;path&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/</span>
        <span class="l-Scalar-Plain">sample</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/blog</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Path</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="s">&quot;The</span><span class="nv"> </span><span class="s">path</span><span class="nv"> </span><span class="s">you</span><span class="nv"> </span><span class="s">wish</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">host</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">blog</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">under</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">domain.</span><span class="nv"> </span><span class="s">(ex:</span><span class="nv"> </span><span class="s">/blog)&quot;</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;apache/path&quot;</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;path&quot;</span>
      <span class="s">&quot;register-dns&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">boolean</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Register DNS Name</span>
      <span class="s">&quot;varnish&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">boolean</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Varnish Caching</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">service</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">web</span>
          <span class="l-Scalar-Plain">resource_type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">application</span>
          <span class="l-Scalar-Plain">setting</span><span class="p-Indicator">:</span> <span class="s">&quot;varnish/enabled&quot;</span>
      <span class="s">&quot;web_server_size&quot;</span><span class="p-Indicator">:</span> <span class="nl">&amp;instance_flavor</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1024</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Web Server Size</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The size of the instance in MB of RAM.</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
        <span class="l-Scalar-Plain">choice</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">256</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">256 Mb</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512 Mb</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1024</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1 Gb</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span> <span class="p-Indicator">[{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">web</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">compute</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">size</span><span class="p-Indicator">},{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">master</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">compute</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">size</span><span class="p-Indicator">}]</span>
      <span class="s">&quot;os&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 11.10</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
        <span class="l-Scalar-Plain">choice</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">Ubuntu 11.10</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">Ubuntu 12.04</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">CentOS</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">RHEL 6</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Operating System</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The operating system for the web servers.</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span> <span class="p-Indicator">[{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">web</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">compute</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">os</span><span class="p-Indicator">},{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">web</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">compute</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">os</span><span class="p-Indicator">}]</span>
      <span class="s">&quot;web_server_count&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">int</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Number of Web Servers</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The number of WordPress servers (minimum two).</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">web</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">compute</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">count</span><span class="p-Indicator">}</span>
        <span class="l-Scalar-Plain">constraints</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">greater-than</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span> <span class="c1"># this is an HA config</span>
      <span class="s">&quot;database_memory&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">312</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Database Size</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The size of the database instance in MB of RAM.</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
        <span class="l-Scalar-Plain">choice</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512 Mb</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1024</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1024 Mb</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2048</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2048 Mb</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">value</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">4096</span>
          <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">4096 Mb</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">backend</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">database</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">memory</span><span class="p-Indicator">}</span>
      <span class="s">&quot;database_volume_size&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Database Disk Size</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The hard drive space available for the database instance in GB.</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">int</span>  <span class="c1">#1-10, units in Gb</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="p-Indicator">{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">backend</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">database</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">disk</span><span class="p-Indicator">}</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>database_type: DBaaS or compute instance. This should probably be driven by
the fact that two providers in the environment can satisfy this requirement and the providers
have different options.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>PROTOTYPING</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="s">&quot;sample&quot;</span><span class="p-Indicator">:</span>  <span class="c1"># just to play with the schema of these options</span>
        <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 12.04</span>
        <span class="l-Scalar-Plain">constrains</span><span class="p-Indicator">:</span> <span class="p-Indicator">[{</span><span class="nv">service</span><span class="p-Indicator">:</span> <span class="nv">web</span><span class="p-Indicator">,</span> <span class="nv">resource_type</span><span class="p-Indicator">:</span> <span class="nv">compute</span><span class="p-Indicator">,</span> <span class="nv">setting</span><span class="p-Indicator">:</span> <span class="nv">foo</span><span class="p-Indicator">}]</span>

        <span class="l-Scalar-Plain">group</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">advanced</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">uri</span>
        <span class="l-Scalar-Plain">uri</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/T1000/providers/...?type=type</span>  <span class="c1">#preferred; relative URI (no CORS needed) looks better. Let checkmate.provider handle the code. Keep it simple for client.</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Instance OS</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">The operating system of web servers.</span>
      <span class="s">&quot;high_availability&quot;</span><span class="p-Indicator">:</span> <span class="nl">&amp;high_availability</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">boolean</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">High Availability</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="s">&quot;Insures</span><span class="nv"> </span><span class="s">your</span><span class="nv"> </span><span class="s">blog</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">higher</span><span class="nv"> </span><span class="s">uptimes</span><span class="nv"> </span><span class="s">by</span><span class="nv"> </span><span class="s">using</span><span class="nv"> </span><span class="s">redundant</span><span class="nv"> </span><span class="s">hardware</span><span class="nv"> </span><span class="s">(e.g.</span><span class="nv"> </span><span class="s">multiple</span><span class="nv"> </span><span class="s">servers)&quot;</span>
      <span class="s">&quot;password&quot;</span><span class="p-Indicator">:</span> <span class="nl">&amp;password</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
        <span class="l-Scalar-Plain">regex</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">xxx</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Password</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Password to use for service. Click the generate button to generate a random password.</span>
      <span class="s">&quot;secure&quot;</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">boolean</span>
        <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">secure</span>
        <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Make this a hardened deployment (you lose some flexibility)</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>PROTOTYPING</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="l-Scalar-Plain">exposes</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">http</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">80</span>
      <span class="l-Scalar-Plain">https</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">443</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>do we support binaries and other files with the blueprint? Does this introduce the concept of trusted bps (with code)?</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="l-Scalar-Plain">artifacts</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">&quot;code/python&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">....</span>
    <span class="p-Indicator">-</span> <span class="s">&quot;code/ruby&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">....</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">image</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">....</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">yaml</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">...</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <h3>Environments</h3>

<p>Schema is:
environment:
  name: !!str
  providers:
     id:  &amp;unique-reference  # reference is unique in this environment
       vendor: !!str
       id: !!str
       provides:
       - type: !!enum('compute', 'database', etc..)
       [endpoint: !!uri]
     [common:]  #any values common to all providers
A test environment</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">environment</span><span class="p-Indicator">:</span> <span class="nl">&amp;rackspace-legacy-cloud-test</span>
    <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Legacy Cloud Servers Test Environment in ORD</span>
    <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="p-Indicator">|</span>
      <span class="no">This environment tests legacy cloud servers. It is hard-targetted at chicago</span>
      <span class="no">because the our testing account&#39;s legacy servers are in chicago (there&#39;s no way</span>
      <span class="no">to detect that from the API!)</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>The idea behind providers is that the environment can be configured to use different providers for different types of resources
For example, we could use Cloud Servers or Dedicated Servers as a compute provider.
The intent is that these providers can be extracted automatically from the service catalog when authenticating, but including providers here
means we can pre-determine or hard-code them if we want to.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="l-Scalar-Plain">providers</span><span class="p-Indicator">:</span>
      <span class="s">&#39;chef-local&#39;</span><span class="p-Indicator">:</span> <span class="nl">&amp;configurator</span>  <span class="c1"># MORE THOUGHT needed...</span>
        <span class="l-Scalar-Plain">vendor</span><span class="p-Indicator">:</span> <span class="s">&#39;opscode&#39;</span>
        <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;application&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;database&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>SAMPLE DATA: only showing this as demo. These get pulled in real time from providers
The catalog is what is available using the env/provider//catalog call.
but does not actually need to be populated
resource types available
catalog:</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>PROTOTYPING: do we need to add other lists (not just resource templates)?
'application': #This is the resource type
'wordpress': *wordpress1 # This is a list of resources types (flavors) available of that type</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="s">&#39;legacy&#39;</span><span class="p-Indicator">:</span> <span class="nl">&amp;rax-cloud-servers-slice</span>
        <span class="l-Scalar-Plain">vendor</span><span class="p-Indicator">:</span> <span class="s">&#39;rackspace&#39;</span>
        <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;compute&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">linux</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;compute&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">windows</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>SAMPLE DATA: used for:
- easy viewing in this file
- used by tests that call this file (so they don't have to call the provider)
If not provided in this file, this is pulled in real time from the provider</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="l-Scalar-Plain">catalog</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">compute</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">linux_instance</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">linux_instance</span>
              <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">compute</span>
              <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
              <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">compute</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">linux</span>
            <span class="l-Scalar-Plain">windows_instance</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">windows_instance</span>
              <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">compute</span>
              <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
              <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">compute</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">windows</span>
          <span class="l-Scalar-Plain">lists</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">images</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">73487664</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">my_custom_image</span>
            <span class="l-Scalar-Plain">sizes</span><span class="p-Indicator">:</span>
              <span class="s">&#39;1&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">10</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">256 server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">256</span>
              <span class="s">&#39;2&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">20</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512 server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512</span>
              <span class="s">&#39;3&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">40</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1GB server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1024</span>
              <span class="s">&#39;4&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">80</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2GB server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2048</span>
              <span class="s">&#39;5&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">160</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">4GB server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">4096</span>
              <span class="s">&#39;6&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">320</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">8GB server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">8192</span>
              <span class="s">&#39;7&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">620</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">15.5GB server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">15872</span>
              <span class="s">&#39;8&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1200</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">30GB server</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">30720</span>
            <span class="l-Scalar-Plain">types</span><span class="p-Indicator">:</span>
              <span class="s">&#39;24&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Windows Server 2008 SP2 (64-bit)</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Windows Server 2008 SP2 (64-bit)</span>
              <span class="s">&#39;31&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Windows Server 2008 SP2 (32-bit)</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Windows Server 2008 SP2 (32-bit)</span>
              <span class="s">&#39;56&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Windows Server 2008 SP2 (32-bit) + SQL Server 2008 R2 Standard</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Windows Server 2008 SP2 (32-bit) + SQL Server 2008 R2 Standard</span>
              <span class="s">&#39;115&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 11.04</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 11.04</span>
              <span class="s">&#39;116&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Fedora 15</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Fedora 15</span>
              <span class="s">&#39;118&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">CentOS 6.0</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">CentOS 6.0</span>
              <span class="s">&#39;119&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 11.10</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 11.10</span>
              <span class="s">&#39;120&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Fedora 16</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Fedora 16</span>
              <span class="s">&#39;121&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">CentOS 5.8</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">CentOS 5.8</span>
              <span class="s">&#39;122&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">CentOS 6.2</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">CentOS 6.2</span>
              <span class="s">&#39;125&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 12.04 LTS</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 12.04 LTS</span>
              <span class="s">&#39;126&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Fedora 17</span>
                <span class="l-Scalar-Plain">os</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Fedora 17</span>

      <span class="s">&#39;load-balancer&#39;</span><span class="p-Indicator">:</span> <span class="nl">&amp;rax-lbaas</span>
        <span class="l-Scalar-Plain">vendor</span><span class="p-Indicator">:</span> <span class="s">&#39;rackspace&#39;</span>
        <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;load-balancer&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>SAMPLE DATA: used for:
- easy viewing in this file
- used by tests that call this file (so they don't have to call the provider)
If not provided in this file, this is pulled in real time from the provider</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="l-Scalar-Plain">catalog</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">lists</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">regions</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">DFW</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://dfw.loadbalancers.api.rackspacecloud.com/v1.0/${CHECKMATE_CLIENT_TENANT}</span>
              <span class="l-Scalar-Plain">ORD</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://ord.loadbalancers.api.rackspacecloud.com/v1.0/${CHECKMATE_CLIENT_TENANT}</span>
          <span class="l-Scalar-Plain">load-balancer</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">http</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
              <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">load-balancer</span>
              <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span> <span class="nv">*id001</span>
              <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
              <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">load-balancer</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http</span>
            <span class="l-Scalar-Plain">https</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https</span>
              <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">load-balancer</span>
              <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span> <span class="nv">*id001</span>
              <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
              <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">load-balancer</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>PROTOTYPING: can we provide override values here (like region or endpoint?)</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="s">&#39;endpoint&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://lbaas.api.rackpsacecloud.com/loadbalancers/${CHECKMATE_CLIENT_TENANT}</span>
      <span class="s">&#39;database&#39;</span><span class="p-Indicator">:</span> <span class="nl">&amp;rax-dbaas</span>
        <span class="l-Scalar-Plain">vendor</span><span class="p-Indicator">:</span> <span class="s">&#39;rackspace&#39;</span>
        <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;database&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span>
        <span class="p-Indicator">-</span> <span class="s">&#39;compute&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>SAMPLE DATA: used for:
- easy viewing in this file
- used by tests that call this file (so they don't have to call the provider)
If not provided in this file, this is pulled in real time from the provider</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="l-Scalar-Plain">catalog</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">compute</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">mysql_instance</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql_instance</span>
              <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">compute</span>
              <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">disk</span><span class="p-Indicator">:</span>
                  <span class="l-Scalar-Plain">choice</span><span class="p-Indicator">:</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">1</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">2</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">3</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">4</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">5</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">6</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">7</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">8</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">9</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">10</span>
                  <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">int</span>
                  <span class="l-Scalar-Plain">unit</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Gb</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span>
                  <span class="l-Scalar-Plain">choice</span><span class="p-Indicator">:</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">512</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">1024</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">2048</span>
                  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">4096</span>
                  <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">int</span>
                  <span class="l-Scalar-Plain">unit</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Mb</span>
              <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
              <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">compute</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span>
          <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">mysql_database</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql_database</span>
              <span class="l-Scalar-Plain">is</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">database</span>
              <span class="l-Scalar-Plain">provides</span><span class="p-Indicator">:</span>
              <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">database</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span>
              <span class="l-Scalar-Plain">requires</span><span class="p-Indicator">:</span>
              <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">compute</span><span class="p-Indicator">:</span>
                  <span class="l-Scalar-Plain">relation</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">host</span>
                  <span class="l-Scalar-Plain">interface</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mysql</span>
          <span class="l-Scalar-Plain">lists</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">regions</span><span class="p-Indicator">:</span>
              <span class="l-Scalar-Plain">DFW</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://dfw.databases.api.rackspacecloud.com/v1.0/557366</span>
              <span class="l-Scalar-Plain">ORD</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://ord.databases.api.rackspacecloud.com/v1.0/557366</span>
            <span class="l-Scalar-Plain">sizes</span><span class="p-Indicator">:</span>
              <span class="s">&#39;1&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">m1.tiny</span>
              <span class="s">&#39;2&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1024</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">m1.small</span>
              <span class="s">&#39;3&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2048</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">m1.medium</span>
              <span class="s">&#39;4&#39;</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">4096</span>
                <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">m1.large</span>

      <span class="l-Scalar-Plain">common</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">vendor</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">rackspace</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>PROVISIONAL: do we need these? Or should we use the live token (what about deserializing a workflow?)
credentials:
- rackspace:
 username: ${CHECKMATE<em>CLIENT</em>USERNAME}
 apikey: ${CHECKMATE<em>CLIENT</em>APIKEY}
- ssh:
 public<em>key: =generate</em>public_key() # function not yet supported
PROTOTYPING:</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="l-Scalar-Plain">constraints</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">region</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">chicago</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">also</span><span class="p-Indicator">:</span> <span class="c1"># just examples</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">blueprint</span><span class="p-Indicator">:</span> <span class="nl">&amp;wp</span>
      <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Simple Wordpress</span>
      <span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
        <span class="s">&quot;wordpress&quot;</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">components</span><span class="p-Indicator">:</span> <span class="nv">*wordpress1</span> <span class="c1">#Reference in local file</span>
          <span class="l-Scalar-Plain">exposed</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
          <span class="l-Scalar-Plain">open-ports</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">80/tcp</span><span class="p-Indicator">]</span>
          <span class="l-Scalar-Plain">relations</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span><span class="s">&quot;db&quot;</span><span class="p-Indicator">:</span> <span class="nv">mysql</span><span class="p-Indicator">}</span>
        <span class="s">&quot;db&quot;</span><span class="p-Indicator">:</span> <span class="c1">#TODO: remove hard coding against this name. Think about what these names mean. These are basically tiers...</span>
          <span class="l-Scalar-Plain">components</span><span class="p-Indicator">:</span> <span class="nv">*mysql</span>  <span class="c1">#TODO: support local (same server) and remote links like local://components/mysql</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>TBD: toying with the idea of inheriting blueprints and overriding settings or applying constraints</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">blueprint</span><span class="p-Indicator">:</span> <span class="nl">&amp;wp1</span>
      <span class="l-Scalar-Plain">&lt;&lt;</span><span class="p-Indicator">:</span> <span class="nv">*wp</span> <span class="c1">#inherit all values from wp</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>override inherited values</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">OneBox Wordpress</span></pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>and add constraints</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="l-Scalar-Plain">constraint</span><span class="p-Indicator">:</span>
        <span class="s">&#39;instance-count&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">blueprint</span><span class="p-Indicator">:</span> <span class="nl">&amp;wp-with-varnish</span>
      <span class="l-Scalar-Plain">&lt;&lt;</span><span class="p-Indicator">:</span> <span class="nv">*wp-multi</span></pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>override values</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Super-fast Wordpress</span>
      <span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
        <span class="s">&quot;wordpress&quot;</span><span class="p-Indicator">:</span>
          <span class="l-Scalar-Plain">components</span><span class="p-Indicator">:</span> <span class="nv">*wordpress1</span></pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <h3>Deployment</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>Actual deployment instances. These are our live, running systems
Design notes on options:
- we don't set them in the blueprint or environment so we can reference those (read only)
- we don't use paths for options (use a hierarchy) so we don't have to parse the key values
- therefore, we provide options selected under 'inputs' as a hierarchy that mirrors the blueprint or environment</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">My WordPress by Checkmate</span>
<span class="l-Scalar-Plain">blueprint</span><span class="p-Indicator">:</span> <span class="nv">*wp-multi</span>
<span class="l-Scalar-Plain">environment</span><span class="p-Indicator">:</span> <span class="nv">*rackspace-legacy-cloud-test</span>
<span class="l-Scalar-Plain">inputs</span><span class="p-Indicator">:</span> <span class="c1"># Answers to or values for blueprint/provider options &amp; settings.</span></pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>Provide an additional public key to be added to all hosts</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="l-Scalar-Plain">client_public_key_ssh</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">${CHECKMATE_CLIENT_PUBLIC_KEY}</span></pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>Optionally specify an environment private key</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="l-Scalar-Plain">environment_private_key</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">=generate_private_key()</span>  <span class="c1"># Optional, since default is to generate one. This will also write to public_key and public_key_ssh</span>
  <span class="l-Scalar-Plain">blueprint</span><span class="p-Indicator">:</span>
    <span class="s">&quot;prefix&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">CM-BLOG</span>
    <span class="s">&quot;domain&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">${CHECKMATE_CLIENT_DOMAIN}</span>
    <span class="s">&quot;path&quot;</span><span class="p-Indicator">:</span> <span class="s">&#39;/blog&#39;</span>
    <span class="s">&quot;username&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">${USER}</span>
    <span class="s">&quot;password&quot;</span><span class="p-Indicator">:</span>
    <span class="s">&quot;ssl&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">required</span>  <span class="c1"># no port 80</span>
    <span class="s">&quot;ssl_certificate&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">skldjfhalkjsdfhasd</span>
    <span class="s">&quot;ssl_private_key&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">asdfasdfasdf</span>
    <span class="s">&quot;region&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">${CHECKMATE_CLIENT_REGION}</span>
    <span class="s">&quot;high-availability&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
    <span class="s">&quot;requests-per-second&quot;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">60</span>
  <span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
    <span class="s">&quot;backend&quot;</span><span class="p-Indicator">:</span>
      <span class="s">&#39;database&#39;</span><span class="p-Indicator">:</span>
        <span class="s">&#39;memory&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512 Mb</span>
    <span class="s">&quot;web&quot;</span><span class="p-Indicator">:</span>
      <span class="s">&#39;compute&#39;</span><span class="p-Indicator">:</span>
        <span class="s">&#39;memory&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">512 Mb</span>
      <span class="s">&#39;application&#39;</span><span class="p-Indicator">:</span>
        <span class="s">&#39;count&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
  <span class="l-Scalar-Plain">providers</span><span class="p-Indicator">:</span>
    <span class="s">&#39;legacy&#39;</span><span class="p-Indicator">:</span>
      <span class="s">&#39;compute&#39;</span><span class="p-Indicator">:</span>
        <span class="s">&#39;os&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Ubuntu 11.10</span></pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <h3>For sample Output, see simulator.json in tests directory</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <p>This documentation written to generate HTML by Docco.
To regenerate and preview:</p>

<pre><code>docco app.yaml &amp;&amp; open docs/app.html
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 