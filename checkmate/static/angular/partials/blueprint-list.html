<div ng-controller="BlueprintListCtrl">
  <div class="span3">
    <div class="well sidebar-nav">
      <ul class="nav nav-list">
        <li class="nav-header">Blueprints</li>
        <li id="blueprint-{{blueprint.id}}" ng-repeat="blueprint in blueprints">
          <a ng-href="#/blueprints/{{blueprint.id}}">{{blueprint.name | truncate:32}}</a>
        </li>
        <li class="nav-header">Search</li>
        <li>
          <div class="input-prepend">
            <span class="add-on"><i class="icon-search"></i></span><input type="text" class="span2" ng-model="query"> 
          </div>    
        </li>
      </ul>
    </div><!--/.well -->
  </div>

  <div class="span9">
    <div class="page-header">
      <h1>Current Blueprints</h1>
    </div>

    <table class="table table-striped">
      <thead>
        <tr>
          <th></th>
          <th>Name</th>
          <th>Services</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr class="clickable" ng-repeat="blueprint in blueprints | filter:query">
          <td style="width:50px">
            <div class="btn-group pull-left">
              <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
                <i class="icon-cog"></i><span class="caret"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a class="disabled" ng-click="detail(blueprint.id)">Edit</a></li>
                <li><a href="#">Delete</a></li>
              </ul>
            </div>
          </td>
          <td ng-click="newDeployment(blueprint.id)">{{blueprint.name}}</td>
          <td ng-click="newDeployment(blueprint.id)">{{serviceList(blueprint)}}</td>
          <td style="text-align: center;" ng-click="newDeployment(blueprint.id)"></td>
        </tr>
      </tbody>      
    </table>
  </div>

  <script type="text/javascript">
    $(document).ready(function() {
      $('#nav-elements li').removeClass('active');
      $('#nav-blueprints').addClass('active');
      $('#blueprint-{{blueprint.id}}').addClass('active');
    });
  </script>
</div>

