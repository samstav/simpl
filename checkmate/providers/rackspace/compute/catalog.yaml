
id: linux_instance
is: compute
provides:
- compute: linux
supports:
- '*': '*'
options:
  'name':
    type: string
    required: true
  'os':
    type: string
    constraints: []
    display-hints:
      choice: []
  'memory':
    type: string  # gets parsed into an integer
    default: 512
    required: true
    constraints: []
    display-hints:
      choice: []
  'cpus':
    type: integer
    constraints: []
    display-hints:
      choice: []
  'disk':
    type: string  # gets parsed into an integer
    constraints: []
    display-hints:
      choice: []
  'flavor':
    type: string
    description: Specific flavor ID. Overrides flavor selection logic.
  'image':
    type: string
    description: Specific image ID. Overrides image selection logic.
  'virtualization-mode':
    type: string
    description: Specific override for the virtualizationn mode.
    required: false
    constraints:
    - in: [xen, hvm, metal]
  'personality':
    type: hash
    required: false
    description: File path and contents.
    display-hints:
      sample: |
          "personality": [
              {
                  "path" : "/etc/banner.txt",
                  "contents" : "ICAgICAgDQoiQSBjbG91ZCBkb2VzIG5vdCBrbm93IHdoeSBp dCBtb3ZlcyBpbiBqdXN0IHN1Y2ggYSBkaXJlY3Rpb24gYW5k IGF0IHN1Y2ggYSBzcGVlZC4uLkl0IGZlZWxzIGFuIGltcHVs c2lvbi4uLnRoaXMgaXMgdGhlIHBsYWNlIHRvIGdvIG5vdy4g QnV0IHRoZSBza3kga25vd3MgdGhlIHJlYXNvbnMgYW5kIHRo ZSBwYXR0ZXJucyBiZWhpbmQgYWxsIGNsb3VkcywgYW5kIHlv dSB3aWxsIGtub3csIHRvbywgd2hlbiB5b3UgbGlmdCB5b3Vy c2VsZiBoaWdoIGVub3VnaCB0byBzZWUgYmV5b25kIGhvcml6 b25zLiINCg0KLVJpY2hhcmQgQmFjaA=="
              }
          ]
  'metadata':
    type: hash
    required: false
    description: Metadata key and value pairs.
    display-hints:
      sample: |
        "metadata" : {
            "My Server Name" : "API Test Server 1"
        }
  'userdata':
    type: string
    required: false
  'key_name':
    type: string
    required: false
    help: |
      Do not set the key_name for OnMetal servers. Checkmate needs to set that
      value to it's own key so it can access the server.
---
id: windows_instance
is: compute
provides:
- compute: windows
supports:
- '*': '*'
options:
  'name':
    type: string
    required: true
  'metadata':
    type: hash
    required: false
    description: Metadata key and value pairs.
    display-hints:
      sample: |
        "metadata" : {
            "My Server Name" : "API Test Server 1"
        }
  'personality':
    type: hash
    required: false
    description: File path and contents.
    display-hints:
      sample: |
          "personality": [
              {
                  "path" : "/etc/banner.txt",
                  "contents" : "ICAgICAgDQoiQSBjbG91ZCBkb2VzIG5vdCBrbm93IHdoeSBp dCBtb3ZlcyBpbiBqdXN0IHN1Y2ggYSBkaXJlY3Rpb24gYW5k IGF0IHN1Y2ggYSBzcGVlZC4uLkl0IGZlZWxzIGFuIGltcHVs c2lvbi4uLnRoaXMgaXMgdGhlIHBsYWNlIHRvIGdvIG5vdy4g QnV0IHRoZSBza3kga25vd3MgdGhlIHJlYXNvbnMgYW5kIHRo ZSBwYXR0ZXJucyBiZWhpbmQgYWxsIGNsb3VkcywgYW5kIHlv dSB3aWxsIGtub3csIHRvbywgd2hlbiB5b3UgbGlmdCB5b3Vy c2VsZiBoaWdoIGVub3VnaCB0byBzZWUgYmV5b25kIGhvcml6 b25zLiINCg0KLVJpY2hhcmQgQmFjaA=="
              }
          ]
  'os':
    required: false
    constraints: []
    display-hints:
      choice: []  # gets populated from account images
  'memory':
    required: false
    default: 2048
    constraints: []
    display-hints:
      choice: []  # gets populated from account flavors
  'flavor':
    type: string
    description: Specific flavor ID. Overrides flavor selection logic.
  'image':
    type: string
    description: Specific image ID. Overrides image selection logic.
  'userdata':
    type: string
    required: false
  'key_name':
    type: string
    required: false
    help: |
      Do not set the key_name for OnMetal servers. Checkmate needs to set that
      value to it's own key so it can access the server.
