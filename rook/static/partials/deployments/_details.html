<p class="lead">{{data.blueprint['meta-data']['application']}} Details</p>

<form class="form-horizontal">
  <fieldset>
    <div class="control-group">
      <label class="control-label" for="status">Status</label>
      <div class="controls">
        <span id="status" class="label" ng-class="{
          'label-info': data.status == 'PLANNED',
          'label-success': data.status == 'UP' || data.status == 'LAUNCHED' || data.status == 'ACTIVE',
          'label-warning': data.status == 'ALERT' || data.status == 'DELETING' || data.status == 'BUILD',
          'label-important': data.status == 'FAILED' || data.status == 'UNREACHABLE' || data.status == 'DOWN',
          'label-inverse': data.status == 'DELETED'
        }">
          {{data.display_status}}
        </span>

        <span ng-show="is_resumable()"><a href="#" ng-click="resume()">Resume</a></span>
        <span ng-show="is_resumable() && is_retriable()"> &#8226; </span>
        <span ng-show="is_retriable()"><a href="#" ng-click="retry()">Retry</a></span>
      </div>
    </div>

    <div ng-show="shouldDisplayWorkflowStatus()">
      <div class="control-group" ng-show="timeRemaining">
        <label class="control-label">Progress:</label>
        <div class="controls progress">
          <div class="bar" style="width: {{percentComplete}}%;"></div>
        </div>
        <div class="controls">
          <p><span class="label label-info">{{count}}</span> tasks total:</p>
          <p>&nbsp; &nbsp; &nbsp;<span class="label label-success">{{taskStates['completed'] + taskStates['ready']}}</span> completed</p>
          <p>&nbsp; &nbsp; &nbsp;<span class="label label-warning">{{taskStates['waiting']}}</span> in progress</p>
          <p>&nbsp; &nbsp; &nbsp;<span class="label label-important">{{taskStates['error']}}</span> errored out</p>
          <p>&nbsp; &nbsp; &nbsp;<span class="label">{{taskStates['future'] + taskStates['likely'] +
          taskStates['maybe']}}</span> tasks waiting on other tasks to finish.</p>
        </div>
        &nbsp;
        <a style="margin-bottom: 15px;" class="btn" ng-show="data.id == 'simulate'" href="./status?complete">Complete the Simulation Now</a>
        <div class="alert controls">You can access an <a ng-href="{{data.operation.link}}">advanced</a> view of
        the workflow to manage any errors or hack at the workflow.</div>
      </div>
    </div>


    <div class="control-group">
      <label class="control-label" for="secrets">Secrets:</label>
      <div class="controls" ng-switch="data.secrets">
        <div ng-switch-when="AVAILABLE"><a href="#" ng-click="showSecrets()">Secrets available</a></div>
        <div ng-switch-when="LOCKED"><i class="icon-lock"></i> dismissed</div>
        <div ng-switch-when="GENERATING">available soon</div>
        <div ng-switch-default>No secrets</div>
      </div>
    </div>

    <div class="control-group" ng-repeat="(name, output) in data['display-outputs']" ng-hide="output['is-secret']">
      <label class="control-label" for="{{'output' + $index}}">{{name}}</label>
      <div class="controls">
        <input type="text" readonly id="{{'output' + $index}}" value="{{output.value.url ||output.value}}">
      </div>
    </div>
  </fieldset>
</form>

